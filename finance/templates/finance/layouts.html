{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sacco Manager</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        [v-cloak] {
            display: none;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen">

    <nav class="bg-indigo-600 text-white p-4 shadow-lg relative z-20">
        <div class="container mx-auto flex justify-between items-center">

            <div class="flex justify-start md:w-1/3">
                <a href="{% url 'index' %}" class="text-lg md:text-xl font-bold hover:text-indigo-100 whitespace-nowrap">
                    ZEED Sacco
                </a>
            </div>

            <div class="flex justify-center space-x-2 md:space-x-4 md:w-1/3">
                {% if user.is_authenticated %}

                    <a href="{% url 'index' %}"
                        class="hidden md:inline-block bg-indigo-800 text-white px-4 py-1.5 rounded text-xs uppercase font-bold tracking-wider hover:bg-indigo-900 shadow-sm border border-indigo-700 transition">
                        Home
                    </a>

                    {% if not user.is_staff %}
                    <a href="{% url 'loan_apply' %}"
                        class="bg-indigo-800 text-white px-3 py-1.5 md:px-4 md:py-1.5 rounded text-[10px] md:text-xs uppercase font-bold tracking-wider hover:bg-indigo-900 shadow-sm border border-indigo-700 transition whitespace-nowrap">
                        <span class="md:hidden">Apply</span> <span class="hidden md:inline">Apply for Loan</span> </a>
                    {% endif %}

                {% endif %}
            </div>

            <div class="flex justify-end items-center md:w-1/3">
                {% if user.is_authenticated %}
                <span class="mr-4 text-indigo-100 text-sm hidden md:inline-block">{{ user.username }}</span>
                
                <a href="{% url 'logout' %}"
                    class="bg-indigo-700 px-3 py-1 rounded hover:bg-indigo-800 text-xs md:text-sm transition">
                    Logout
                </a>
                {% else %}
                <a href="{% url 'login' %}" class="hover:text-indigo-200 mr-2 md:mr-4 text-sm md:text-base font-medium">Login</a>
                <a href="{% url 'register' %}"
                    class="bg-white text-indigo-600 px-2 py-1 md:px-3 md:py-1 rounded text-sm md:text-base font-medium hover:bg-gray-100 transition">
                    Register
                </a>
                {% endif %}
            </div>

        </div>
    </nav>

    <div id="app" class="container mx-auto p-6 flex-grow">
        {% block body %}
        {% endblock %}
    </div>

    <footer class="bg-gray-900 text-gray-300 py-8 text-center px-4 border-t border-gray-800">
        <div class="container mx-auto">

            <p class="text-sm font-medium">
                Made by Ahmed Wanjugi using
            </p>

            <div class="mt-2 flex flex-col gap-1 md:flex-row md:justify-center md:gap-2">
                <a href="https://vuejs.org/" target="_blank"
                    class="text-indigo-400 hover:text-indigo-300 transition font-semibold">Vue.js</a>

                <span class="hidden md:inline text-gray-600">|</span>

                <a href="https://tailwindcss.com/" target="_blank"
                    class="text-indigo-400 hover:text-indigo-300 transition font-semibold">Tailwind CSS</a>

                <span class="hidden md:inline text-gray-600">|</span>

                <a href="https://www.djangoproject.com/" target="_blank"
                    class="text-indigo-400 hover:text-indigo-300 transition font-semibold">Django</a>
            </div>

            <p class="text-xs mt-6 text-gray-500">
                Project requirement provided by
                <a href="https://cs50.harvard.edu/x/" target="_blank" class="text-white hover:underline">Harvard
                    CS50</a>.
            </p>
        </div>
    </footer>

    {% block script %}
    {% endblock %}

</body>

</html>